<!-- Divide into functions -->
<html>
	<head>
		<style type="text/css">
			#jtable
			{
				width:100%;
				padding:0px;
				margin:0px;
			}
			#butn
			{
				float:right;
			}
		</style>
		<script type="text/javascript">
			function addNewRow()
			{
				var table=document.getElementById("jtable");
				var row=table.insertRow(-1);
				
				var cell1=row.insertCell(0);
				var cell2=row.insertCell(1);
				var cell3=row.insertCell(2);
				
				var input1=document.createElement("input");
				input1.setAttribute=("type","text");
				
				var input2=document.createElement("input");
				input2.setAttribute=("type","text");
				
				var saveButton=document.createElement("button");
				saveButton.setAttribute=("type","button");
				saveButton.innerHTML="save";
				
				cell1.appendChild(input1);
				cell2.appendChild(input2);
				cell3.appendChild(saveButton);
				
				saveButton.onclick = function save()
				{
					var txtNode1=document.createTextNode("");
					var txtNode2=document.createTextNode("");
					
					var aDiv=document.createElement("div");
					
					var aNode1=document.createElement("a");
					aNode1.setAttribute("href","#");
					var aNodeTxt1=document.createTextNode("edit");
					aNode1.appendChild(aNodeTxt1);
					aNode1.style.display="block";
					
					var aNode2=document.createElement("a");
					aNode2.setAttribute("href","#");
					var aNodeTxt2=document.createTextNode("delete");
					aNode2.appendChild(aNodeTxt2);
					aNode2.style.display="block";
					
					aDiv.appendChild(aNode1);
					aDiv.appendChild(aNode2);
					
					txtNode1.nodeValue=input1.value;
					txtNode2.nodeValue=input2.value;
					
					if(txtNode1.nodeValue && txtNode2.nodeValue)
					{
						cell1.replaceChild(txtNode1,cell1.childNodes[0]);
						cell2.replaceChild(txtNode2,cell2.childNodes[0]);
						cell3.replaceChild(aDiv,cell3.childNodes[0]);
					}
					
					aNode1.onclick = function()
					{
						edit();
					}
					
					aNode2.onclick = function()
					{
						delRow(this);
					}
				}
				
				function edit()
				{
					cell1.replaceChild(input1,cell1.childNodes[0]);
					cell2.replaceChild(input2,cell2.childNodes[0]);
					cell3.replaceChild(saveButton,cell3.childNodes[0]);
				}
				
				function delRow(o)
				{
					var i=o.parentNode.parentNode.parentNode.rowIndex;
					table.deleteRow(i);
				}
			}
		</script>
	</head>
	<body>
		<table id="jtable" border="1">
			<tr>
				<td>Name</td>
				<td>Email</td>
				<td>Action</td>
			</tr>
		</table>
		<br />
		<button type="button" id="butn" onclick="addNewRow()" name="addRow">Add New Row</button>
	</body>
</html>