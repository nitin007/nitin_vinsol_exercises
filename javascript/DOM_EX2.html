<!-- changes done -->
<!-- Break into functions -->
<html>
	<head>
		<style type="text/css">
			.checklist
			{
				margin:10% 40%;
			}
		</style>
		<script type="text/javascript">
			var idArray=[];
			var count=0;
			// Dont need j and count
			//changes done
			var x=document.getElementsByTagName("input");

			function checkList(o)
			{
				if(o.id!="none" && count<4)
				{
					// Push in array
					// changes done
					if(o.checked)
					{
						count++;
					}
					
					if(!o.checked)
					{
						count--;
						for(var k=0;k<idArray.length;k++)
						{
							if(o.id==idArray[k])
							{
								idArray.splice(k,1);
							}
						}
					}
					
					if(count<=3 && o.checked)
					{
						// There is no point in pushing to an array, cjeck length and then remove from array
						idArray.push(o.id)
						document.getElementById("none").checked=false;
					}
					
					if(count>=4)
					{
						o.checked=false;
						count--;
						text="Only 3 days can be selected! you have already selected: ";
						for(var j=0;j<idArray.length;j++)
						{
							text+=document.getElementById(idArray[j]).nextSibling.textContent;
						}	
						alert(text);
					}
				}
					
				if(o.id=="none")
				{
					deSelectAll();
				}	
			}
			
			function deSelectAll()
			{
				count=0;
				var l=0;
					while(idArray.length)
					{
						document.getElementById(idArray[l]).checked=false;
						idArray.shift();
					}	
			}
		</script>
	</head>
	<body>
		<div class="checklist">
			<form action="" method="">
				<input type="checkbox" name="wkdays" id="wd1" onclick="checkList(this)" /> SUNDAY <br />
				<input type="checkbox" name="wkdays" id="wd2" onclick="checkList(this)" /> MONDAY <br />
				<input type="checkbox" name="wkdays" id="wd3" onclick="checkList(this)" /> TUESDAY <br />
				<input type="checkbox" name="wkdays" id="wd4" onclick="checkList(this)" /> WEDNESDAY <br />
				<input type="checkbox" name="wkdays" id="wd5" onclick="checkList(this)" /> THURSDAY <br />
				<input type="checkbox" name="wkdays" id="wd6" onclick="checkList(this)" /> FRIDAY <br />
				<input type="checkbox" name="wkdays" id="wd7" onclick="checkList(this)" /> SATURDAY <br />
				<input type="checkbox" name="wkdays" id="none" onclick="checkList(this)" /> NONE <br />
			</form>
		</div>
	</body>
</html>
